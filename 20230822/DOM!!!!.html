<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title></title>
</head>
<body>
    <h1 id="title">주문할 것</h1>
    <div class="add">
        <input type="text">
        <button type="submit">추가</button>
    </div>
    <ul>
        <li>
            <input type="checkbox">
            <span>당근</span>
            <button class="del" type="button">삭제</button>
        </li>
        <li>
            <input type="checkbox">
            <span>오이</span>
            <button class="del" type="button">삭제</button>
        </li>
        <li>
            <input type="checkbox">
            <span>양파</span>
            <button class="del" type="button">삭제</button>
        </li>
    </ul>
    <button class="end" type="button">다 샀나요?</button>

    <script>
        const li = document.querySelectorAll('li')
        const check = document.querySelectorAll('li input')
        const del = document.querySelectorAll('.del')
        const end = document.querySelector('.end')
        //1.체크박스 체크시 span 텍스트 완료표시로 취소선 생성
        check.forEach((item,index)=>{
            item.addEventListener('click', ()=>{
                const text = document.querySelectorAll('span')
                const textCont = text[index].textContent
                if(item.checked){
                    text[index].innerHTML = `<del>${textCont}</del>`
                } else {
                    text[index].innerHTML = textCont
                }
            })
        })
        //2. 삭제버튼 클릭시 해당 인덱스에 맞는 li제거
        del.forEach((item,index)=>{
            item.addEventListener('click',()=>{
                li[index].remove()
            })
        })
        //3. 완료로 모든 li제거
        end.addEventListener('click',()=>{
            end.textContent = '완료'
            li.forEach(item=>{
                item.remove()
            })
        })
        
    </script>
</body>
</html>